import{a as i,b as W,c as ee,d as S}from"./chunk-PAIEFO4T.js";import{A as j,B as N,C as _,D as v,Da as l,E as b,Ea as m,F as B,G as k,Ga as $,K as V,Ka as E,R as U,T as M,U as n,V as Z,Va as X,W as o,Wa as q,X as y,a as x,b as F,bb as Y,c as A,d as w,db as J,e as I,ea as d,eb as K,fb as Q,ha as c,ia as h,ja as p,s as R,v as G,va as u,wa as g,ya as H,z as P,za as C}from"./chunk-UVVLSM63.js";import{d as f}from"./chunk-QEZ3K4DX.js";var L=new N("NGX_ECHARTS_CONFIG"),D=class{constructor(){this.subject=new w(1),this.subscriptions=new x}doFilter(r){this.subject.next(r)}dispose(){this.subscriptions.unsubscribe()}notEmpty(r,e){this.subscriptions.add(this.subject.subscribe(t=>{if(t[r]){let s=t[r].currentValue;s!=null&&e(s)}}))}has(r,e){this.subscriptions.add(this.subject.subscribe(t=>{if(t[r]){let s=t[r].currentValue;e(s)}}))}notFirst(r,e){this.subscriptions.add(this.subject.subscribe(t=>{if(t[r]&&!t[r].isFirstChange()){let s=t[r].currentValue;e(s)}}))}notFirstAndEmpty(r,e){this.subscriptions.add(this.subject.subscribe(t=>{if(t[r]&&!t[r].isFirstChange()){let s=t[r].currentValue;s!=null&&e(s)}}))}},te=(()=>{class a{constructor(){this.el=v(Z),this.ngZone=v(U),this.config=v(L),this.options=n(null),this.theme=n(this.config.theme??null),this.initOpts=n(null),this.merge=n(null),this.autoResize=n(!0),this.loading=n(!1),this.loadingType=n("default"),this.loadingOpts=n(null),this.chartInit=M(),this.optionsError=M(),this.chartClick=i(this.createLazyEvent("click")),this.chartDblClick=i(this.createLazyEvent("dblclick")),this.chartMouseDown=i(this.createLazyEvent("mousedown")),this.chartMouseMove=i(this.createLazyEvent("mousemove")),this.chartMouseUp=i(this.createLazyEvent("mouseup")),this.chartMouseOver=i(this.createLazyEvent("mouseover")),this.chartMouseOut=i(this.createLazyEvent("mouseout")),this.chartGlobalOut=i(this.createLazyEvent("globalout")),this.chartContextMenu=i(this.createLazyEvent("contextmenu")),this.chartHighlight=i(this.createLazyEvent("highlight")),this.chartDownplay=i(this.createLazyEvent("downplay")),this.chartSelectChanged=i(this.createLazyEvent("selectchanged")),this.chartLegendSelectChanged=i(this.createLazyEvent("legendselectchanged")),this.chartLegendSelected=i(this.createLazyEvent("legendselected")),this.chartLegendUnselected=i(this.createLazyEvent("legendunselected")),this.chartLegendLegendSelectAll=i(this.createLazyEvent("legendselectall")),this.chartLegendLegendInverseSelect=i(this.createLazyEvent("legendinverseselect")),this.chartLegendScroll=i(this.createLazyEvent("legendscroll")),this.chartDataZoom=i(this.createLazyEvent("datazoom")),this.chartDataRangeSelected=i(this.createLazyEvent("datarangeselected")),this.chartGraphRoam=i(this.createLazyEvent("graphroam")),this.chartGeoRoam=i(this.createLazyEvent("georoam")),this.chartTreeRoam=i(this.createLazyEvent("treeroam")),this.chartTimelineChanged=i(this.createLazyEvent("timelinechanged")),this.chartTimelinePlayChanged=i(this.createLazyEvent("timelineplaychanged")),this.chartRestore=i(this.createLazyEvent("restore")),this.chartDataViewChanged=i(this.createLazyEvent("dataviewchanged")),this.chartMagicTypeChanged=i(this.createLazyEvent("magictypechanged")),this.chartGeoSelectChanged=i(this.createLazyEvent("geoselectchanged")),this.chartGeoSelected=i(this.createLazyEvent("geoselected")),this.chartGeoUnselected=i(this.createLazyEvent("geounselected")),this.chartAxisAreaSelected=i(this.createLazyEvent("axisareaselected")),this.chartBrush=i(this.createLazyEvent("brush")),this.chartBrushEnd=i(this.createLazyEvent("brushend")),this.chartBrushSelected=i(this.createLazyEvent("brushselected")),this.chartGlobalCursorTaken=i(this.createLazyEvent("globalcursortaken")),this.chartRendered=i(this.createLazyEvent("rendered")),this.chartFinished=i(this.createLazyEvent("finished")),this.animationFrameID=null,this.chart$=new w(1),this.resize$=new A,this.changeFilter=new D,this.resizeObFired=!1,this.echarts=this.config.echarts}ngOnChanges(e){this.changeFilter.doFilter(e)}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe(G(100,I,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize()&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(e=>{for(let t of e)t.target===this.el.nativeElement&&(this.resizeObFired?this.animationFrameID=window.requestAnimationFrame(()=>{this.resize$.next()}):this.resizeObFired=!0)})),this.resizeOb.observe(this.el.nativeElement)),this.changeFilter.notFirstAndEmpty("options",e=>this.onOptionsChange(e)),this.changeFilter.notFirstAndEmpty("merge",e=>this.setOption(e)),this.changeFilter.has("loading",e=>this.toggleLoading(!!e)),this.changeFilter.notFirst("theme",()=>this.refreshChart())}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.loadingSub&&this.loadingSub.unsubscribe(),this.changeFilter.dispose(),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(e){this.chart?e?this.chart.showLoading(this.loadingType(),this.loadingOpts()):this.chart.hideLoading():this.loadingSub=this.chart$.subscribe(t=>e?t.showLoading(this.loadingType(),this.loadingOpts()):t.hideLoading())}setOption(e,t){if(this.chart)try{this.chart.setOption(e,t)}catch(s){console.error(s),this.optionsError.emit(s)}}refreshChart(){return f(this,null,function*(){this.dispose(),yield this.initChart()})}createChart(){let e=this.el.nativeElement;if(window&&window.getComputedStyle){let t=window.getComputedStyle(e,null).getPropertyValue("height");(!t||t==="0px")&&(!e.style.height||e.style.height==="0px")&&(e.style.height="400px")}return this.ngZone.runOutsideAngular(()=>(typeof this.echarts=="function"?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:s})=>s(e,this.theme()??this.config?.theme,this.initOpts())))}initChart(){return f(this,null,function*(){yield this.onOptionsChange(this.options());let e=this.merge();e&&this.chart&&this.setOption(e)})}onOptionsChange(e){return f(this,null,function*(){e&&(this.chart?this.setOption(this.options(),!0):(this.chart=yield this.createChart(),this.chart$.next(this.chart),this.chartInit.emit(this.chart),this.setOption(this.options(),!0)))})}createLazyEvent(e){return W(this.chartInit).pipe(R(t=>new F(s=>(t.on(e,re=>this.ngZone.run(()=>s.next(re))),()=>{this.chart&&(this.chart.isDisposed()||t.off(e))}))))}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275dir=k({type:a,selectors:[["echarts"],["","echarts",""]],inputs:{options:[1,"options"],theme:[1,"theme"],initOpts:[1,"initOpts"],merge:[1,"merge"],autoResize:[1,"autoResize"],loading:[1,"loading"],loadingType:[1,"loadingType"],loadingOpts:[1,"loadingOpts"]},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartHighlight:"chartHighlight",chartDownplay:"chartDownplay",chartSelectChanged:"chartSelectChanged",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendLegendSelectAll:"chartLegendLegendSelectAll",chartLegendLegendInverseSelect:"chartLegendLegendInverseSelect",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartGraphRoam:"chartGraphRoam",chartGeoRoam:"chartGeoRoam",chartTreeRoam:"chartTreeRoam",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartGeoSelectChanged:"chartGeoSelectChanged",chartGeoSelected:"chartGeoSelected",chartGeoUnselected:"chartGeoUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartGlobalCursorTaken:"chartGlobalCursorTaken",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],standalone:!0,features:[V]})}}return a})();function se(a){return{provide:L,useValue:a}}var ie=(()=>{class a{static forRoot(e){return{ngModule:a,providers:[se(e)]}}static forChild(){return{ngModule:a}}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275mod=B({type:a})}static{this.\u0275inj=j({})}}return a})();var O=class a{title;value="";static \u0275fac=function(e){return new(e||a)};static \u0275cmp=b({type:a,selectors:[["app-card"]],inputs:{title:"title",value:"value"},standalone:!0,features:[C],decls:5,vars:2,consts:[[1,"info-card"],[1,"info-card__title"],[1,"info-card__value"]],template:function(e,t){e&1&&(c(0,"div",0)(1,"h3",1),u(2),h(),c(3,"p",2),u(4),h()()),e&2&&(o(2),g(t.title),o(2),g(t.value))},styles:[".info-card[_ngcontent-%COMP%]{padding:1rem;background-color:#f4f4f4;border-radius:8px;text-align:center;box-shadow:0 2px 4px #0000001a}.info-card__title[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#333}.info-card__value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#007bff}"]})};var z=class a{constructor(r){this.api=r}totalOrders=E(()=>this.api.orders().length);totalPayments=E(()=>this.api.payments().length);totalAmount=E(()=>this.api.payments().reduce((r,e)=>r+(Number(e.amount)||0),0));static \u0275fac=function(e){return new(e||a)(_(S))};static \u0275prov=P({token:a,factory:a.\u0275fac,providedIn:"root"})};var ae=class a{constructor(r,e,t){this.api=r;this.stats=e;this.translateService=t}chartOptions={title:{text:"Orders"},tooltip:{},xAxis:{data:["Ene","Feb","Mar","Abr","May"]},yAxis:{},series:[{name:"Ventas",type:"bar",data:[5,20,36,10,10]}]};static \u0275fac=function(e){return new(e||a)(y(S),y(z),y(J))};static \u0275cmp=b({type:a,selectors:[["app-dashboard"]],standalone:!0,features:[H([{provide:L,useValue:{echarts:()=>import("./chunk-XZGXM5SN.js")}}]),C],decls:15,vars:21,consts:[[1,"stats"],[3,"title","value"],["echarts","",1,"demo-chart",2,"height","400px",3,"options"]],template:function(e,t){e&1&&(c(0,"app-base-page")(1,"section")(2,"h2"),u(3),l(4,"translate"),h(),c(5,"div",0),p(6,"app-card",1),l(7,"translate"),p(8,"app-card",1),l(9,"translate"),p(10,"app-card",1),l(11,"translate"),l(12,"currency"),h(),p(13,"br")(14,"div",2),h()()),e&2&&(o(3),g(m(4,8,"PAGES-TITLE.DASHBOARD")),o(3),d("title",m(7,10,"PAGES-TITLE.ORDER"))("value",t.stats.totalOrders()),o(2),d("title",m(9,12,"PAGES-TITLE.PAYMENT"))("value",t.stats.totalPayments()),o(2),d("title",m(11,14,"PAGES-TITLE.INCOME"))("value",$(12,16,t.stats.totalAmount(),"USD","symbol","1.2-2")),o(4),d("options",t.chartOptions))},dependencies:[q,X,Y,ee,ie,te,Q,K,O],styles:[".dashboard[_ngcontent-%COMP%]{padding:2rem}.stats[_ngcontent-%COMP%]{display:flex;gap:2rem;margin-top:1rem}.card[_ngcontent-%COMP%]{flex:1;padding:1rem;border:1px solid #ccc;border-radius:8px;background:#f9f9f9;text-align:center}.actions[_ngcontent-%COMP%]{margin-top:2rem;display:flex;gap:1rem}.btn[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1.5rem;background-color:#007bff;color:#fff;border-radius:4px;text-decoration:none}.btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})};export{ae as DashboardPage};
