import{a as z,b as G,c as $,d as q,e as Q,f as W,g as Y}from"./chunk-453DGFGM.js";import{c as j,d as V}from"./chunk-ZUMLDBRR.js";import{$ as N,$a as C,Aa as p,Ba as l,Ca as F,E as f,L as B,M as D,Ma as U,Oa as w,Pa as R,Qa as v,W as n,X as s,Xa as k,Za as T,_a as O,aa as P,ea as I,ha as i,i as _,ia as t,ja as u,ka as A,la as S,ma as L,sa as r,ta as a,ua as y,wa as g}from"./chunk-OUCMA3UJ.js";import{a as h,b as x,d as M}from"./chunk-QEZ3K4DX.js";function ee(m,c){if(m&1){let e=A();i(0,"tr")(1,"td"),r(2),t(),i(3,"td"),r(4),t(),i(5,"td"),r(6),t(),i(7,"td"),r(8),p(9,"currency"),t(),i(10,"td"),r(11),p(12,"date"),t(),i(13,"td"),r(14),t(),i(15,"td",4)(16,"button",5),S("click",function(){let d=B(e).$implicit,E=L();return D(E.openDeleteModal(d))}),r(17),p(18,"translate"),t()()()}if(m&2){let e=c.$implicit;n(2),a(e.id),n(2),a(e.product),n(2),a(e.quantity),n(2),a(l(9,7,e.price)),n(3),a(e.date?F(12,9,e.date,"shortDate"):"-"),n(3),a(e.status||"-"),n(3),y(" ",l(18,12,"BUTTONS.REMOVE")," ")}}var b=class m extends Y{constructor(e,o,d){super();this.api=e;this.modalService=o;this.translateService=d;this.orders=this.api.orders}orders;openDeleteModal(e){let o=this.modalService.open(q);o.componentInstance.title=this.translateService.instant("MODAL.TITLE"),o.componentInstance.message=this.translateService.instant("MODAL.MESSAGE",{id:e.id}),o.result.then(d=>{d&&this.api.deleteOrder(e.id)})}openOrderModal(){let e=this.modalService.open(Q);e.componentInstance.title="New Order",e.componentInstance.type="order",e.componentInstance.onSubmit=o=>M(this,null,function*(){yield _(this.api.createOrder(x(h({},o),{date:new Date})))}),e.result.then(o=>{o&&this.api.fetchOrders()}).catch(()=>{})}getItems(){return this.orders()}static \u0275fac=function(o){return new(o||m)(s(V),s(G),s(T))};static \u0275cmp=f({type:m,selectors:[["app-order-table"]],standalone:!0,features:[N,g],decls:29,vars:25,consts:[[1,"btn","btn-success",3,"click"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[3,"pageChange","totalItems","pageSize","currentPage"],[1,"d-flex","justify-content-end"],[1,"btn","btn-danger","btn-sm",3,"click"]],template:function(o,d){o&1&&(i(0,"button",0),S("click",function(){return d.openOrderModal()}),i(1,"th"),r(2),p(3,"translate"),t()(),i(4,"table",1)(5,"thead")(6,"tr")(7,"th"),r(8),p(9,"translate"),t(),i(10,"th"),r(11),p(12,"translate"),t(),i(13,"th"),r(14),p(15,"translate"),t(),i(16,"th"),r(17),p(18,"translate"),t(),i(19,"th"),r(20),p(21,"translate"),t(),i(22,"th"),r(23),p(24,"translate"),t(),u(25,"th"),t()(),i(26,"tbody"),P(27,ee,19,14,"tr",2),t()(),i(28,"app-paginator",3),S("pageChange",function(J){return d.onPageChange(J)}),t()),o&2&&(n(2),a(l(3,11,"BUTTONS.ADD-NEW")),n(6),a(l(9,13,"TABLE-COLUMNS.ID")),n(3),a(l(12,15,"TABLE-COLUMNS.PRODUCT")),n(3),a(l(15,17,"TABLE-COLUMNS.QUANTITY")),n(3),a(l(18,19,"TABLE-COLUMNS.PRICE")),n(3),a(l(21,21,"TABLE-COLUMNS.DATE")),n(3),a(l(24,23,"TABLE-COLUMNS.STATUS")),n(4),I("ngForOf",d.paginated),n(),I("totalItems",d.orders().length)("pageSize",d.pageSize)("currentPage",d.currentPage))},dependencies:[v,U,R,w,$,z,W,C,O]})};var H=class m{constructor(c){this.translateService=c}static \u0275fac=function(e){return new(e||m)(s(T))};static \u0275cmp=f({type:m,selectors:[["app-orders-page"]],standalone:!0,features:[g],decls:5,vars:3,template:function(e,o){e&1&&(i(0,"app-base-page")(1,"h2"),r(2),p(3,"translate"),t(),u(4,"app-order-table"),t()),e&2&&(n(2),a(l(3,1,"PAGES-TITLE.ORDER")))},dependencies:[v,k,j,b,C,O],encapsulation:2})};export{H as OrdersPage};
