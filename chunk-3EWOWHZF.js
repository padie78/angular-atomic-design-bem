import{b as V,d as R,e as z,f as G,g as $}from"./chunk-453DGFGM.js";import{c as k,d as j}from"./chunk-ZUMLDBRR.js";import{$ as O,$a as T,Aa as p,Ba as l,Ca as A,E as f,L as _,M as x,Ma as L,Oa as F,Pa as U,Qa as S,W as n,X as c,Xa as w,Za as P,_a as v,aa as N,ea as M,ha as i,i as I,ia as t,ja as u,ka as B,la as g,ma as D,sa as o,ta as r,ua as h,wa as y}from"./chunk-OUCMA3UJ.js";import{d as E}from"./chunk-QEZ3K4DX.js";function K(s,d){if(s&1){let e=B();i(0,"tr")(1,"td"),o(2),t(),i(3,"td"),o(4),p(5,"date"),t(),i(6,"td"),o(7),p(8,"currency"),t(),i(9,"td"),o(10),t(),i(11,"td"),o(12),t(),i(13,"td",4)(14,"button",5),g("click",function(){let m=_(e).$implicit,b=D();return x(b.openDeleteModal(m))}),o(15),p(16,"translate"),t()()()}if(s&2){let e=d.$implicit;n(2),r(e.id),n(2),r(e.date?A(5,6,e.date,"shortDate"):"-"),n(3),r(l(8,9,e.amount)),n(3),r(e.status),n(2),r(e.method),n(3),h(" ",l(16,11,"BUTTONS.REMOVE")," ")}}var C=class s extends ${constructor(e,a,m){super();this.api=e;this.modalService=a;this.translateService=m;this.payments=this.api.payments}payments;openDeleteModal(e){let a=this.modalService.open(R);a.componentInstance.title=this.translateService.instant("MODAL.TITLE"),a.componentInstance.message=this.translateService.instant("MODAL.MESSAGE",{id:e.id}),a.result.then(m=>{m&&this.api.deletePayment(e.id)})}openPaymentModal(){let e=this.modalService.open(z);e.componentInstance.title="New Payment",e.componentInstance.type="payment",e.componentInstance.onSubmit=a=>E(this,null,function*(){return yield I(this.api.createPayment(a))}),e.result.then(a=>{a&&this.api.fetchPayments()}).catch(()=>{})}getItems(){return this.payments()}static \u0275fac=function(a){return new(a||s)(c(j),c(V),c(P))};static \u0275cmp=f({type:s,selectors:[["app-payment-table"]],standalone:!0,features:[O,y],decls:25,vars:22,consts:[[1,"btn","btn-success",3,"click"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[3,"pageChange","totalItems","pageSize","currentPage"],[1,"d-flex","justify-content-end"],[1,"btn","btn-danger","btn-sm",3,"click"]],template:function(a,m){a&1&&(i(0,"button",0),g("click",function(){return m.openPaymentModal()}),o(1),p(2,"translate"),t(),i(3,"table",1)(4,"thead")(5,"tr")(6,"th"),o(7),p(8,"translate"),t(),i(9,"th"),o(10),p(11,"translate"),t(),i(12,"th"),o(13),p(14,"translate"),t(),i(15,"th"),o(16),p(17,"translate"),t(),i(18,"th"),o(19),p(20,"translate"),t(),u(21,"th"),t()(),i(22,"tbody"),N(23,K,17,13,"tr",2),t()(),i(24,"app-paginator",3),g("pageChange",function(W){return m.onPageChange(W)}),t()),a&2&&(n(),h(" ",l(2,10,"BUTTONS.ADD-NEW"),`
`),n(6),r(l(8,12,"TABLE-COLUMNS.ID")),n(3),r(l(11,14,"TABLE-COLUMNS.DATE")),n(3),r(l(14,16,"TABLE-COLUMNS.AMOUNT")),n(3),r(l(17,18,"TABLE-COLUMNS.STATUS")),n(3),r(l(20,20,"TABLE-COLUMNS.METHOD")),n(4),M("ngForOf",m.paginated),n(),M("totalItems",m.payments().length)("pageSize",m.pageSize)("currentPage",m.currentPage))},dependencies:[S,L,U,F,G,T,v],styles:[".payment-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.payment-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .payment-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem 1rem;text-align:left}.payment-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f0f0f0}"]})};var H=class s{constructor(d){this.translateService=d}static \u0275fac=function(e){return new(e||s)(c(P))};static \u0275cmp=f({type:s,selectors:[["app-payments-page"]],standalone:!0,features:[y],decls:5,vars:3,template:function(e,a){e&1&&(i(0,"app-base-page")(1,"h2"),o(2),p(3,"translate"),t(),u(4,"app-payment-table"),t()),e&2&&(n(2),r(l(3,1,"PAGES-TITLE.PAYMENT")))},dependencies:[S,w,k,C,T,v],encapsulation:2})};export{H as PaymentsPage};
